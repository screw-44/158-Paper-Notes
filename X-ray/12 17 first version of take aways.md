# General knowledge
去识别重叠物体在X-ray安防检测中，目前没有看到有人实质性的在网络层面上实现创新。所有的工作均可以总结为数据增广, one way or another. 
所以自然我们有两个问题：为什么没有网络结构上的实质性创新？What's special about data argument in the field of occlueded item detection in X-ray?
## Why there hasn't any breakthough in net structure
首先要确立的一点，X-ray图像的检测无论是重叠还是孤立，其有根本性与自然环境中的检测不同的点。
1. X-ray图像包含物体内部结构信息 
2. X-ray图像中的个体可以出现在各个角度，但是普通的检测中不会。比如说不会出现从上往下的人脸检测——只会看到头顶。
3. X-ray图像的信息比自然图像更少，其分辨率更低（500,500)；不同颜色（通道信息）代表了不同的材质，物体的Context（明度，色相，饱和度，褶皱等等）细节全部丢失；其成像特性使其强调edge information。
4. X-ray图像的分辨率更低，由于检测品都在包裹内部，所以存在由遮挡带来的噪点。
## Data Argument in X-ray
我看的论文来自于北航和东北大学两个组。
其中东北大学采用的GAN去生成X-ray图像，再使用一种合成方法去生成可以训练的图像。
北航的组关注于X-ray图像的边缘信息，通过传统边缘检测这类的方法去提高边缘信息在传统卷积网络中的影响权重。
### GAN
注意，合成方法是传统方法，需要相关X光机的参数，其合成方法能模拟出重叠的情况。首先其效果能大规模提升模型效果（10%），而且在不同类别之间的效果差距也大幅度缩小（26%到16%）；同时最低的识别率也在80%，具有实际应用价值。其优秀的效果我认为是来自GAN提供了大量的新的数据，提高了泛化性。特别是由于GAN生成的图像相比于实物，其边缘信息比较模糊，这能使网络更加鲁棒。
### Edge focused
北航的组最近三年发出了很多顶会论文，其均为开源数据集+一种新方法。数据集上贡献了Occluded Prohibited Items X-ray (OPIXray), High-quality X-ray (HiXray)。其数据增广方法是通过在主干网络前端，加入一个注意力模块（小网络）去融合手动检测出的边缘信息和图像内容。mAP效果提升一般在1%左右。其最大的特点是能在可视化中，让网络更加注意危险品所在区域，证明关注边缘信息确实是有很大意义的。
除了利用手动检测的边缘信息外，还有一种是传统的的网络增强方式——不同特征图之间前后，上下，加来加去。这个没有专门对X-ray的情况做调整，所以略看。
### Learning 
北航的组注意到了再别的领域中occluded情况有专门的损失函数，也提出了Over-sampling Strategy。但是在最终发行的时候删除了，可能是因为实验无法back up他的claim. 不过我也认为这个也是一直被忽视的地方，怎么去设计一种专用于重叠物体的损失函数也是很有意思的问题。
有很多的论文如Sixray，关注在了如何平衡不同类别的网络识别。显然在X-ray数据集中不同类别的数据集差别很大，同时不同材质之间的识别难度差别也很大。
# 总结
## 网络结构部分
我认为，现有工作没有在网络结构上进行突破是无法利用X-ray图像的表面二维，实质三维的特性。我猜测可能可以通过大型网络，直接从X-ray图像识别出物体本身的三维轮廓信息。相关的数据集可能需要通过仿真去搭建。
可以借鉴医学X-ray的工作，如从X-ray二维图像通过网络得到CT一样的三维结果，就在今年，医学的X-ray领域有了做这个的论文，但是其用了AP和LP的两个View（正前面和左侧面），我们可能没有这个条件；而且其CT图像作为数据集我们可能也无法获得。
可以借鉴利用二维人脸图像直接生成3维人脸的工作。其方法是检测出来人脸特征点和深度，再去套用一个最接近的人脸模型，其实也可以借鉴其套用人脸模型的方式去套用危险品的模型。
## 数据增广和训练部分
东北大学22年的GAN工作中提出了一种可以模拟重叠物体的算法，我们可以整合数据生成部分和训练部分在一起训练。参考北理和东大的工作，我们可以根据类别，重叠程度，重叠方式来分类不同的数据，当网络在一个类型的数据上表现不佳时，我们多生成这部分的数据来让模型学习。



